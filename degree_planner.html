<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/login.css">
    <link rel="stylesheet" href="styles/footer.css">
    <title>Degree Planner</title>

    <script defer src="js/load_header_and_footer.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .year-header {
            background-color: red;
            color: white;
            padding: 10px;
            cursor: pointer;
            font-weight: bold;
            text-align: center;
            border: 2px solid white;
        }
        .year-content {
            display: none; /* Hidden by default */
            padding: 10px;
        }
        .term {
            margin: 10px 0;
            padding: 10px;
            border: 2px dashed black;
        }
        .fall {
            background-color: #ffcc99; /* Light Orange for Fall */
        }
        .winter {
            background-color: #99ccff; /* Light Blue for Winter */
        }
        .course {
            display: inline-block;
            padding: 10px;
            margin: 5px;
            background-color: pink;
            border-radius: 5px;
            cursor: grab;
        }
        .drag-over {
            border: 2px dashed yellow;
        }
    </style>
</head>
<body>
    <div id="header-placeholder"></div> <!-- Header will load here -->

    <h2>Degree Navigator</h2>

    <div class="year">
        <div class="year-header">Year 1</div>
        <div class="year-content">
            <div class="term fall" id="fall1">
                <strong>Fall Term</strong>
                <div class="course" draggable="true" id="cpsc231">CPSC 231</div>
            </div>
            <div class="term winter" id="winter1">
                <strong>Winter Term</strong>
                <div class="course" draggable="true" id="cpsc251">CPSC 251</div>
            </div>
        </div>
    </div>

    <div class="year">
        <div class="year-header">Year 2</div>
        <div class="year-content">
            <div class="term fall" id="fall2">
                <strong>Fall Term</strong>
                <div class="course" draggable="true" id="cpsc331">CPSC 331</div>
            </div>
            <div class="term winter" id="winter2">
                <strong>Winter Term</strong>
                <div class="course" draggable="true" id="cpsc351">CPSC 351</div>
            </div>
        </div>
    </div>

    <script>
        // Collapsible accordion logic
        document.querySelectorAll(".year-header").forEach(header => {
            header.addEventListener("click", () => {
                const content = header.nextElementSibling;
                content.style.display = content.style.display === "block" ? "none" : "block";
            });
        });

        // Drag and Drop logic
        const courses = document.querySelectorAll(".course");
        const terms = document.querySelectorAll(".term");

        courses.forEach(course => {
            course.addEventListener("dragstart", (e) => {
                e.dataTransfer.setData("text/plain", course.id);
                setTimeout(() => {
                    course.style.display = "none";
                }, 0);
            });

            course.addEventListener("dragend", () => {
                course.style.display = "inline-block";
            });
        });

        terms.forEach(term => {
            term.addEventListener("dragover", (e) => {
                e.preventDefault();
                term.classList.add("drag-over");
            });

            term.addEventListener("dragleave", () => {
                term.classList.remove("drag-over");
            });

            term.addEventListener("drop", (e) => {
                e.preventDefault();
                const courseId = e.dataTransfer.getData("text/plain");
                const course = document.getElementById(courseId);
                term.appendChild(course);
                term.classList.remove("drag-over");
            });
        });
    </script>
     <div id="footer-placeholder"></div> <!-- Footer will load here -->
</body>
</html>
